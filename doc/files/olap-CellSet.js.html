<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>olap-CellSet.js - OLAP4JS API</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="OLAP4JS API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/olap.Catalog.html">olap.Catalog</a></li>
            
                <li><a href="..&#x2F;classes/olap.Cell.html">olap.Cell</a></li>
            
                <li><a href="..&#x2F;classes/olap.CellSet.html">olap.CellSet</a></li>
            
                <li><a href="..&#x2F;classes/olap.CellSetAxis.html">olap.CellSetAxis</a></li>
            
                <li><a href="..&#x2F;classes/olap.Connection.html">olap.Connection</a></li>
            
                <li><a href="..&#x2F;classes/olap.Cube.html">olap.Cube</a></li>
            
                <li><a href="..&#x2F;classes/olap.Datasource.html">olap.Datasource</a></li>
            
                <li><a href="..&#x2F;classes/olap.Dimension.html">olap.Dimension</a></li>
            
                <li><a href="..&#x2F;classes/olap.Hierarchy.html">olap.Hierarchy</a></li>
            
                <li><a href="..&#x2F;classes/olap.Level.html">olap.Level</a></li>
            
                <li><a href="..&#x2F;classes/olap.Measure.html">olap.Measure</a></li>
            
                <li><a href="..&#x2F;classes/olap.Member.html">olap.Member</a></li>
            
                <li><a href="..&#x2F;classes/olap.Namedset.html">olap.Namedset</a></li>
            
                <li><a href="..&#x2F;classes/olap.Position.html">olap.Position</a></li>
            
                <li><a href="..&#x2F;classes/olap.Query.html">olap.Query</a></li>
            
                <li><a href="..&#x2F;classes/olap.QueryAxis.html">olap.QueryAxis</a></li>
            
                <li><a href="..&#x2F;classes/olap.Schema.html">olap.Schema</a></li>
            
                <li><a href="..&#x2F;classes/olapXmla.Connection.html">olapXmla.Connection</a></li>
            
                <li><a href="..&#x2F;classes/olapXmla.Datasource.html">olapXmla.Datasource</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/olap.html">olap</a></li>
            
                <li><a href="..&#x2F;modules/olapXmla.html">olapXmla</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: olap-CellSet.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
	&#x2F;** olap.CellSet
	* CellSet is the result of executing an olap.Query
	*   @class olap.CellSet
	*   @constructor
	*   @param {Object} Cellset Object representing object properties.  Often used to rehydrate objects after external persistence
	*   @param {String} Catalog The CATALOG_NAME that this CellSet is being executed for
	*&#x2F;
	olap.CellSet = function CellSet($cellset, $catalog){
		&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);
		var cellset = $cellset || {axes:[], filterAxis:{}, cells:[], CUBE_NAME: &#x27;&#x27;}, idx, axis, cell;
		
		this.CUBE_NAME  = cellset.CUBE_NAME;
		this.CATALOG_NAME = $catalog;
		this.setSlicer(cellset.filterAxis);
		this.cells = [];
		this.axes  = [];
		if (cellset.axes instanceof Array) {
			for (var i=0, j=cellset.axes.length;i&lt;j;i++){
				axis = cellset.axes[i];
				axis.ordinal = i;
				this.addAxis(axis);
			}
		}
		if (cellset.cells instanceof Array) {
			for (idx in cellset.cells){
				cell = cellset.cells[idx];	
				this.addCell(cell);
			}
		}

		this.id = olap.CellSet.id++;
		olap.CellSet.instances[this.id] = this;				
	}
	olap.CellSet.id = 1;
	olap.CellSet.prefix = &quot;olap.CellSet&quot;;
	olap.CellSet.instances = {};
	olap.CellSet.getInstance = function(id){
	    return olap.CellSet.instances[id];
	};
	olap.CellSet.prototype = {
		setSlicer: function setSlicer(slicer){
			if (slicer instanceof Object) {
				if (slicer instanceof olap.CellSetAxis == false) {
					slicer = new olap.CellSetAxis(slicer, this);
				}
				this.SLICER = slicer;
			}		
		},
		getAxes: function getAxes(){
			return this.axes;
		},
		getFilterAxis: function getFilterAxis(){
			return this.filterAxis;
		},
		getCell: function getCell(index){
			return this.cells[index];
		},
		getCubeName: function getCubeName(){
			return this.CUBE_NAME;
		},
		addAxis: function addAxis(axis, callback) {
			&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
			if (axis instanceof Object) {
				if (axis instanceof olap.CellSetAxis == false) {
					axis = new olap.CellSetAxis(axis, this);
				} else {
				}
				this.axes.push(axis);
				if (typeof callback == &#x27;function&#x27;) {
					callback(axis);
				}
			}
			return axis;
		},
		addCell: function addCell(cell, callback) {
			&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
			if (cell instanceof Object) {
				if (cell instanceof olap.Cell == false) {
					cell = new olap.Cell(cell, this);
				} else {
				}
				this.cells.push(cell);
				if (typeof callback == &#x27;function&#x27;) {
					callback(cell);
				}
			}
			return cell;
		}
	}

	&#x2F;** olap.Cell
	* A Cell is a cell returned from an CellSet
	*   @class olap.Cell
	*   @constructor
	*   @param {Object} Cell Object representing object properties.  Often used to rehydrate objects after external persistence
	*   @param {olap.CellSet} Cellset The Cellset that this Cell belongs to
	*&#x2F;
	olap.Cell = function Cell($cell, $cellset) {
		var cell = $cell || {};
		this.value = cell.value;
		this.formattedValue = cell.formattedValue;
		this.ordinal = cell.ordinal;
		this.cellset = $cellset;
		this.id = olap.Cell.id++;
		olap.Cell.instances[this.id] = this;				
	}
	olap.Cell.id = 1;
	olap.Cell.prefix = &quot;olap.Cell&quot;;
	olap.Cell.instances = {};
	olap.Cell.getInstance = function(id){
	    return olap.Cell.instances[id];
	};	
	olap.Cell.prototype = {
		getCellSet: function getCellSet(){
			return this.cellset;
		},
		getOrdinal: function getOrdinal(){
			return this.ordinal;
		},
		getCoordinateList: function getCoordinateList(){
			&#x2F;&#x2F;return List&lt;Integer&gt; ;
		},
		getPropertyValue: function getPropertyValue(Property){
		},
		getValue: function getValue(){
			return this.value;
		},
		getFormattedValue: function getFormattedValue(){
			return this.formattedValue;
		}
	}

	&#x2F;** olap.Position
	*   @class olap.Position
	*   @constructor
	*   @param {Object} Position Object representing object properties.  Often used to rehydrate objects after external persistence
	*   @param {olap.CellSetAxis} Axis The Axis that this Position belongs to
	*&#x2F;
	olap.Position = function Position($position, $axis) {
		&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
		&#x2F;&#x2F;document.body.appendChild(prettyPrint($position, { maxDepth:3} ));
		var position = $position || {}, memb, hier, cube = olap.Cube.getInstanceByName($axis.getCellSet().CUBE_NAME, $axis.getCellSet().CATALOG_NAME);

		this.members = {};
		for (idx in position){
			memb = position[idx];	
			hier = filterProperty.apply($axis.getHierarchies(), [{type:&#x27;equal&#x27;, property:&#x27;HIERARCHY_UNIQUE_NAME&#x27;, value:idx}]);
			memb.HIERARCHY_UNIQUE_NAME = hier.HIERARCHY_UNIQUE_NAME
			this.members[idx] = new olap.Member(memb);
			&#x2F;&#x2F;BELOW is from sample
			&#x2F;&#x2F;var tuple = rowAxis.positions[i][rowHierarchies[z].name];
			&#x2F;&#x2F;var level = cube.getLevelByUniqueName(memb.LEVEL_UNIQUE_NAME, memb.HIERARCHY_UNIQUE_NAME);
			&#x2F;&#x2F;document.body.appendChild(prettyPrint(level, { maxDepth:3} ));
		}
		
		this.id = olap.Position.id++;
		olap.Position.instances[this.id] = this;				
	}
	olap.Position.id = 1;
	olap.Position.prefix = &quot;olap.Position&quot;;
	olap.Position.instances = {};
	olap.Position.getInstance = function(id){
	    return olap.Position.instances[id];
	};	
	olap.Position.prototype = {
		getOrdinal: function getOrdinal(){
			&#x2F;&#x2F;return Axis;
		},
		getMembers: function getMembers(){
			&#x2F;&#x2F;return Axis;
		}
	}
	
	&#x2F;** olap.CellSetAxis
	*   @class olap.CellSetAxis
	*   @constructor
	*   @param {Object} CellSetAxis Object representing object properties.  Often used to rehydrate objects after external persistence
	*   @param {olap.CellSet} CellSet The CellSet that this Axis belongs to
	*&#x2F;
	olap.CellSetAxis = function CellSetAxis($axis, $cellset) {
		&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
		var axis = $axis || {ordinal:0}, idx, pos, hier;
		this.positions = [];
		this.hierarchies = [];
		this.cellset = $cellset;
		this.ordinal = axis.ordinal
		if (axis.hierarchies instanceof Array) {
			for (idx in axis.hierarchies ){
				hier = axis.hierarchies[idx];
				this.hierarchies.push(new olap.Hierarchy(hier));
			}
		}
		&#x2F;&#x2F;document.body.appendChild(prettyPrint(this.hierarchies, { maxDepth:3} ));		
		if (axis.positions instanceof Array) {
			for (idx in axis.positions ){
				pos = axis.positions[idx];	
				this.addPosition(pos);
			}
		}

		this.id = olap.CellSetAxis.id++;
		olap.CellSetAxis.instances[this.id] = this;				
		&#x2F;&#x2F;document.body.appendChild(prettyPrint(this, { maxDepth:3} ));		
	}
	olap.CellSetAxis.id = 1;
	olap.CellSetAxis.prefix = &quot;olap.CellSetAxis&quot;;
	olap.CellSetAxis.instances = {};
	olap.CellSetAxis.getInstance = function(id){
	    return olap.CellSetAxis.instances[id];
	};	
	olap.CellSetAxis.prototype = {
		getOrdinal: function getOrdinal(){
			&#x2F;&#x2F;return Axis;
		},
		getCellSet: function getCellSet() {
			return this.cellset;
		},
		getAxisMetaData: function getAxisMetaData(){
			&#x2F;&#x2F;return CellSetAxisMetaData ;
		},
		getPositions: function getPositions() {
			return this.positions;
		},
		getPositionCount: function getPositionCount(){
			return this.positions.length;
		},
		getHierarchies: function getHierarchies(){
			return this.hierarchies;
		},
		getProperties: function getProperties(){
			&#x2F;&#x2F;return this.positions.length;
		},
		addPosition: function addPosition(position, callback) {
			&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
			if (position instanceof Object) {
				if (position instanceof olap.Position == false) {
					position = new olap.Position(position, this);
				} else {
				}
				this.positions.push(position);
				if (typeof callback == &#x27;function&#x27;) {
					callback(position);
				}
			}
			return position;
		},
		addHierarchy: function addHierarchy(hierarchy, callback) {
			&#x2F;&#x2F;console.debug(&#x27;func Call: &#x27; + arguments.callee.name);	
			var found = false;
			if (hierarchy instanceof Object) {
				&#x2F;&#x2F;try to only add if not exists
				for (var i=0,j=this.hierarchies.length;i&lt;j;i++){
					if (this.hierarchies[i].HIERARCHY_UNIQUE_NAME == hierarchy.HIERARCHY_UNIQUE_NAME) {
						found = true;
					}
				}
				if (found ==  false){
					if ((hierarchy instanceof olap.Hierarchy == false) &amp;&amp; (hierarchy.HIERARCHY_UNIQUE_NAME) &amp;&amp; (hierarchy.HIERARCHY_UNIQUE_NAME !== &#x27;&#x27;)&amp;&amp; (hierarchy.HIERARCHY_UNIQUE_NAME !== undefined)&amp;&amp; (hierarchy.HIERARCHY_UNIQUE_NAME !== &quot; &quot;)) {
						hierarchy = new olap.Hierarchy(hierarchy, this);
						this.hierarchies.push(hierarchy);
					} else if (hierarchy instanceof olap.Hierarchy == true){
						this.hierarchies.push(hierarchy);
					}
				}
				if (typeof callback == &#x27;function&#x27;) {
					callback(hierarchy);
				}
			}
			return hierarchy;
		}
	}


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
